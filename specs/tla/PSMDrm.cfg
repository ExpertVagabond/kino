CONSTANTS
    MaxKeyIds = 4
    MaxRetries = 3
    LicenseExpiry = 86400
    KeySystems = {"widevine", "fairplay", "playready", "clearkey"}

SPECIFICATION Spec

INVARIANTS
    TypeInvariant
    ActiveRequiresLicenses
    SessionIdValid
    KeySystemSelected
    RetryCountBounded
    ErrorStateConsistent

PROPERTIES
    DetectionCompletes
    LicenseRequestCompletes
    ExpiredKeysHandled
